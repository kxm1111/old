# JSP JAR 应用程序

这是一个使用Maven构建的包含JSP功能的可执行JAR应用程序。该项目使用嵌入式Tomcat服务器来运行JSP页面。

## 项目结构

```
d:\qoder\Project\Java\打包\jsp-jar-with-dependencies\
├── pom.xml                           # Maven配置文件
├── src\main\java\com\example\
│   ├── JspAppMain.java               # 主类，启动嵌入式Tomcat
│   └── HelloServlet.java             # 示例Servlet
├── src\main\webapp\                  # 开发阶段的JSP页面
│   ├── index.jsp                     # 首页JSP
│   └── WEB-INF\
│       └── web.xml                   # Web配置
├── src\main\resources\webapp\        # 打包到JAR中的JSP页面
│   ├── index.jsp                     # 首页JSP
│   └── WEB-INF\
│       └── web.xml                   # Web配置
└── target\
    └── jsp-jar-app.jar               # 打包生成的可执行JAR文件
```

## 依赖项

- Servlet API
- JSP API
- JSTL (JSP Standard Tag Library)
- 嵌入式Tomcat (包括tomcat-embed-core, tomcat-embed-jasper等)

## 功能说明

1. **index.jsp** - 访问根路径 `/` 时显示：
   - 服务器信息
   - 用户IP地址
   - 当前时间
   - JSTL示例

2. **HelloServlet** - 访问 `/hello` 路径时显示：
   - "你好，这是Hello Servlet!"
   - 当前时间

## 如何运行

1. 构建项目：
   ```bash
   mvn clean package
   ```

2. 运行应用程序：
   ```bash
   java -jar target/jsp-jar-app.jar
   ```

3. 在浏览器中访问：
   - 首页: http://localhost:8080/
   - Hello页面: http://localhost:8080/hello

## 运行时注意事项

- 应用启动时可能会显示一些关于JAR扫描的警告信息，这些是正常的，不影响功能
- JSP页面在首次访问时会被编译，后续访问速度会更快
- 应用会在控制台输出"JSP应用已在 http://localhost:8080 启动"表示成功运行

## 特点

- 将整个Web应用程序打包成单个可执行JAR文件
- 包含所有必要的依赖项
- 使用嵌入式Tomcat服务器，无需外部容器
- 支持JSP页面和JSTL标签
- 包含自定义Servlet
- 资源文件被打包到JAR内部，运行时自动提取到临时目录

## 技术栈

- Java 11
- Maven 3+
- Apache Tomcat Embed
- Servlet 4.0
- JSP 2.3
- JSTL 1.2